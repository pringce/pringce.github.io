---
title: 视图
date: 2020-04-18 15:34:15
tags:
- MySQL
- 个人博客
categories:
- MySQL
mathjax: true
---

### 什么是视图

站在不同的角度去看待数据（同一张表的数据，通过不同的角度去看待）。视图也被称为**虚拟表**

#### 创建视图

```mysql
create view 视图名 as 查询语句;
create view myview as select empno,ename from emp;
```

只有select语句才能以视图对象的方式创建出来，即as后面只能跟select语句。但是可以对视图进行CURD操作（增删改查），对视图CURD时就跟对待一张表一样，增删改查的语句与一张表完全一样。**不过并不是可以在所有的视图上执行增、删、改的，在生成视图的时候使用了下边这些语句的都不能进行更新**：

- 聚集函数（比如SUM(), MIN(), MAX(), COUNT()等等）
- DISTINCT
- GROUP BY
- HAVING
- UNION 或者 UNION ALL
- 某些子查询
- 某些连接查询
- 等等等等

#### 删除视图

```mysql
drop view myview;
```

**对视图进行增删改查，会影响到原表数据**（通过视图影响原表数据，不是直接操作的原表）

`视图`其实就相当于是**某个查询语句的别名**！创建视图的时候并不会把那个查询语句的结果集维护在硬盘或者内存里！在对视图进行查询时，MySQL服务器将会帮助我们**把对视图的查询语句转换为对底层表的查询语句然后再执行**



视图还可以参与一些更复杂的查询，比如子查询、连接查询什么的。有一点比较有趣的是，**在书写查询语句时，视图还可以和真实表一起使用**。所以**在使用层面，我们完全可以把`视图`当作一个表去使用，但是它的实现原理却是在执行语句时转换为对底层表的操作**。使用视图的好处也是显而易见的，视图可以简化语句的书写，避免了每次都要写一遍又臭又长的语句，而且对视图的操作更加直观，使用者也不用去考虑它的底层实现细节。

### 视图的作用

视图可以隐藏表的实现细节，保密级别较高的系统，数据库只对外提供相关的视图，java程序员只对视图进行CURD操作