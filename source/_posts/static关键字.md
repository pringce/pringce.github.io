---
title: static关键字
date: 2020-04-07 09:51:58
tags:
- Java
categories:
- Java
mathjax: true
---

```java
// Chinese.java
public class Chinese{
    // 身份证号（每一个对象的身份证号不同）
    String id;
    // 姓名（每一个对象的姓名不同）
    String name;
    // 国籍
    // 每一个对象的国籍都是中国，属于类属性，应定义为静态变量
    // 如果定义为实例变量，每一个对象都需要有一块内存空间来保存它，太浪费，没必要让每一个对象都保存一份内存
    // 静态变量在类加载的时候初始化，不需要创建对象，内存就开辟了
    // 静态变量存储在方法区中
    static String country;
}
```

- 什么时候成员变量声明为实例变量？
  - 所有对象都有这个属性，但这个属性的值会随着对象的的变化而变化
- 什么时候成员变量声明为静态变量？
  - 所有对象都有这个属性，并且所有对象的这个属性是一样的，建议定义为静态变量，节省内存开销
  - 静态变量在类加载的时候初始化，内存在方法区中开辟，访问不需要创建对象，只有一份。用“类名.”的方式访问



关于Java中的static关键字：

- static修饰的方法是静态方法
- static修饰的变量是静态变量
- 所有static修饰的元素都成为静态的，都可以用“类名.”的方式访问，当然也可以用“引用.”的方式访问（但不建议）
- static修饰的所有元素都是类级别的特征，和具体的对象无关



**静态代码块**

可以使用static关键字定义静态代码块

- 语法格式

  static{

  ​		java语句;

  }

- 静态代码块在类加载的时候执行，并且只执行一次。后面无论创建多少个对象，都只执行一次

- 静态代码块在一个类中可以编写多个，并且尊徐自上而下的顺序依次执行.

- 静态代码块的作用？怎么用？用在哪？什么时候用？

  -  和具体需求有关，例如项目中要求在类加载的时刻执行代码完成日志的记录，那么这段记录日志的代码就可以编写到静态代码当中，完成日志记录
  - 静态代码块是Java为程序员准备的一个特殊的时机，这个特殊的时机被称为**类加载时机**。若希望在此刻执行一段特殊的程序，这段程序可以直接放到静态代码块当中

- 通常在静态代码块当中完成预备工作，例如初始化连接池、解析XML配置文件等



**实例代码块**

- 语法结构

{

​		java语句;

}

- 实例代码块可编写多个，遵循自上而下的原则。实例代码块在构造方法执行之前执行，构造方法执行一次，实例代码块对应执行一次
- 实例代码块也是java为程序员准备的一个特殊的时机，称为**对象初始化时机**



**方法什么时候定义为静态的？**

- 方法描述的是动作，当所有对象执行这个动作的时候，最终产生影响是一样的。那么这个动作已经不再属于一个对象动作了，可以将这个动作提升为类级别的动作，模板级别的动作
- 静态方法中无法直接访问实例变量和实例方法