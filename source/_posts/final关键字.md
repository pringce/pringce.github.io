---
title: final关键字
date: 2020-04-08 14:56:34
tags:
- Java
categories:
- Java
mathjax: true
---

关于final关键字：

- final是一个关键字，表示最终的，不可变的

- final可以修饰变量、方法、类等

- **final修饰的类无法被继承**

- final修饰的方法无法被覆盖，也无法被隐藏，但可以被继承（该方法可以被子类使用）

- final修饰的变量（无论是实例变量、局部变量还是静态变量）**一旦赋值之后，不可重新赋值**，**final修饰的变量只能赋一次值**

- final修饰的实例变量必须手动初始化（**但是final修饰的局部变量可以不初始化**），系统不管赋默认值，要求程序员必须手动赋值。否则将报错，有两种解决方案：

  - 第一种

  ```java
  final int age = 20;
  ```

  - 第二种

  ```java
  public class Person{
      final int age;
      public Person(age){
          this.age = age;
      }
  }
  ```

  - 其实上述两种方法本质是一样的，因为都是在构造方法执行过程中给实例变量赋值

- **final修饰的引用**一旦指向某一个对象，就不能再指向别的对象（因为引用是一个变量，final修饰的变量只能赋一次值）。**所以该对象将永远无法被垃圾回收器回收，直至程序结束**

- **final修饰的实例变量是不可变的，这种变量一般和static联合使用**（加了static后存储在方法区中，可以节省内存空间），被称为**常量**。**常量名通常全部大写**，语法格式如下

  - public static final 类型 常量名 = 值；
  - 实际上常量和静态变量一样，区别在于常量的值不可变。常量和静态变量都是存储在方法区，并且都是在类加载时初始化
  - 常量一般都是public的，因为改不了

